@page
@model MallMedia.Presentation.Pages.Admin.Device.CreateModel

@{
    ViewData["Title"] = "Create Device";
}
<head>
    <!-- Thêm type="module" vào script để hỗ trợ import/export -->
    <script type="module">
        import { checkUserAuthentication,showToast } from '/js/auth.js';  // Đảm bảo đường dẫn đúng

        window.onload = async function () {
            try {
                // Gọi hàm checkUserAuthentication và lấy thông tin currentUser
                const currentUser = await checkUserAuthentication("Admin");
            } catch (error) {
                console.error('Lỗi khi xác thực:', error);
            }
        };
    </script>
</head>
<div class="container mt-5">
    <h2>Create Device</h2>
    <form id="createDeviceForm">
        <!-- Device Name -->
        <div class="form-group pt-3 col-md-6">
            <label for="deviceName">Device Name</label>
            <input type="text" id="deviceName" class="form-control" />
            <span id="deviceNameError" class="text-danger"></span>
        </div>

        <!-- Device Type -->
        <div class="form-group pt-3 col-md-6">
            <label for="deviceType">Device Type</label>
            <select id="deviceType" class="form-control">
                <option value="">Select type</option>
                <option value="Digital Poster">Digital Poster</option>
                <option value="Vertical LCD">Vertical LCD</option>
                <option value="LED">LED</option>
            </select>
            <span id="deviceTypeError" class="text-danger"></span>
        </div>

        <!-- Size (in inches) -->
        <div class="form-group pt-3 col-md-6">
            <label for="size">Size (inches)</label>
            <input type="number" id="size" class="form-control" />
            <span id="sizeError" class="text-danger"></span>
        </div>

        <!-- Resolution -->
        <div class="form-group pt-3 col-md-6">
            <label for="resolution">Resolution (__x__)</label>
            <input type="text" id="resolution" class="form-control" />
            <span id="resolutionError" class="text-danger"></span>
        </div>

        <!-- Location Dropdown -->
        <div class="form-group pt-3 col-md-6">
            <label for="locationId">Location</label>
            <select id="locationId" class="form-control">
                <option value="">Select location</option>
            </select>
            <span id="locationError" class="text-danger"></span>
        </div>

        <!-- General Error -->
        <div id="generalError" class="text-danger"></div>

        <!-- Submit Button -->
        <a href="/Admin/Device/Index" class="btn btn-danger mt-3">Back</a>
        <button type="submit" class="btn btn-primary mt-3">Create</button>
    </form>
</div>

<script type="module" src="~/js/create_device.js" defer></script>